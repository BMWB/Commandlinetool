#!/usr/bin/env python3
#_*_ coding: utf-8 _*_

import sys, os
import subprocess
print("\n############## Auto ARC ##############")
hookFilePath = os.path.abspath(__file__)
currentFileDirPath = os.path.dirname(hookFilePath)
projectPath = currentFileDirPath.replace('/.git/hooks', '')
mainDirPath = os.path.dirname(projectPath)
formatDiffLibPath = os.path.join(mainDirPath, 'bossproject/.PythonLib/KZStaticAnalyzer/KZAutoARC.py')
cmd = 'python3 %s -p %s' % (formatDiffLibPath, hookFilePath)
(re, out) = subprocess.getstatusoutput(cmd)
if out and len(out) > 0:
    print(out)
